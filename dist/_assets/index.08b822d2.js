import{k as e,l as t,m as a,d as l,n as s,p as n,e as r,o,c as d,i as u,a as i,F as c,f as p,_ as v,w as b,q as m,r as f,s as y,j as _,t as g,v as h,x as I}from"./index.4aec70a4.js";const S=e(localStorage.getItem("wg3.locale")||"en");t(S,e=>{localStorage.setItem("wg3.locale",e),document.documentElement.lang=S.value}),document.documentElement.lang=S.value;const k=(e={})=>{const t=a();t&&"i18n"in t.type&&(e=t.type.i18n);return{locale:S,t:(t="")=>{const a=e[S.value]||self;return t.split(".").reduce((e,t)=>e?e[t]:"",a)||t}}};var x=l({props:{name:String,value:[String,Number],errors:Array,options:{type:Array,default:()=>[]},disabled:Boolean,readonly:Boolean,placeholder:String,t:{type:Function,default:e=>e}},setup:e=>({selected:s(()=>{if(!e.value)return null;return e.options.find(t=>""+t.value==""+e.value).label})})});const w=b("data-v-7297042a");n("data-v-7297042a");const $={class:"input:select__wrapper"},j={key:0,"data-test":"selected",class:"input:select__selected"},F={key:1,"data-test":"placeholder",class:"input:select__placeholder"},B=i("i",{class:"icon-caret-down",color:"a"},null,-1);r();const O=w((function(e,t){return o(),d("div",{"data-test":"input",class:["input:select",{"input:select--invalid":e.errors&&e.errors.length}]},[u(e.$slots,"before"),i("div",$,[i("select",{"data-test":"select",id:e.name+"Id",name:e.name,value:e.value,disabled:e.disabled,readonly:e.readonly},[(o(!0),d(c,null,p(e.options,t=>(o(),d("option",{key:t,value:t.value,selected:t.value===e.value},v(e.t(t.label)),9,["value","selected"]))),128)),u(e.$slots,"default")],8,["id","name","value","disabled","readonly"]),e.selected?(o(),d("div",j,v(e.t(e.selected)),1)):(o(),d("div",F,v(e.t(e.placeholder||"Select an option")),1)),B]),u(e.$slots,"after")],2)}));x.render=O,x.__scopeId="data-v-7297042a";var A=l({components:{InputSelect:x},setup(){const{locale:e}=k(),{theme:t}=m();return{locale:e,theme:t}}});const H=b("data-v-79db512e");n("data-v-79db512e");const N={class:"settings"};r();const E=H((function(e,t){const a=f("InputSelect");return o(),d("div",N,[i(a,{name:"theme",value:e.theme,onInput:t[1]||(t[1]=t=>e.theme=t.target.value),options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}]},null,8,["value"]),i(a,{name:"locale",value:e.locale,options:[{value:"en",label:"EN"},{value:"pt",label:"PT"}],onInput:t[2]||(t[2]=t=>e.locale=t.target.value)},null,8,["value"])])}));A.render=E,A.__scopeId="data-v-79db512e";var z=l({});const D=b("data-v-05618a48");n("data-v-05618a48");const G={"data-test":"ghosty",class:"button:ghosty"};r();const P=D((function(e,t){return o(),d("button",G,[u(e.$slots,"default")])}));z.render=P,z.__scopeId="data-v-05618a48";var T=l({});const q=b("data-v-620783f2");n("data-v-620783f2");const C={"data-test":"glassy",class:"button:glassy"};r();const L=q((function(e,t){return o(),d("button",C,[u(e.$slots,"default")])}));T.render=L,T.__scopeId="data-v-620783f2";var J=l({props:["icon","size","skin","reverse","disabled"],components:{Ghosty:z,Glassy:T}});const K=b("data-v-1994eb2d");n("data-v-1994eb2d");const M={"data-test":"slot"};r();const Q=K((function(e,t){return o(),d(y(e.skin||"glassy"),{"data-test":"button",disabled:e.disabled,class:["button","button--"+(e.size||"medium"),{"button--reverse":e.reverse}]},{default:K(()=>[e.icon?(o(),d("i",{key:0,"data-test":"icon",class:e.icon},null,2)):_("",!0),i("span",M,[u(e.$slots,"default")])]),_:1},8,["disabled","class"])}));J.render=Q,J.__scopeId="data-v-1994eb2d";const R=e=>{for(let t of Object.values(e))"value"in t||(t.value=""),"errors"in t||(t.errors=[]);return e};var U=l({props:{id:String,input:Object,t:{type:Function,default:e=>e}}});const V=b("data-v-585b541a");n("data-v-585b541a");const W={key:0,"data-test":"detail",class:"field__detail"},X={key:0,"data-test":"errors",class:"field__errors"};r();const Y=V((function(e,t){return o(),d("div",{"data-test":"field",class:["field",{"field--disabled":!!e.input.disabled}]},[e.input.label?(o(),d("label",{key:0,"data-test":"label",class:"field__label",for:e.id},v(e.t(e.input.label)),9,["for"])):_("",!0),u(e.$slots,"default"),e.input.detail?(o(),d("div",W,v(e.t&&e.t(e.input.detail)||e.input.detail),1)):_("",!0),e.input.errors&&e.input.errors.length?(o(),d("ul",X,[(o(!0),d(c,null,p(e.input.errors,t=>(o(),d("li",{key:t},v(e.t(t)),1))),128))])):_("",!0)],2)}));U.render=Y,U.__scopeId="data-v-585b541a";var Z=l({props:{name:String,errors:Array,disabled:Boolean,readonly:Boolean,placeholder:String,value:[String,Number],t:{type:Function,default:e=>e}}});const ee=b("data-v-7676a78b");n("data-v-7676a78b");const te={class:"input:text__wrapper"};r();const ae=ee((function(e,t){return o(),d("div",{"data-test":"input",class:["input:text",{"input:text--invalid":e.errors&&e.errors.length}]},[u(e.$slots,"before"),i("div",te,[i("input",{type:"text",name:e.name,id:e.name+"Id",value:e.value,disabled:e.disabled,readonly:e.readonly,placeholder:e.t(e.placeholder)},null,8,["name","id","value","disabled","readonly","placeholder"])]),u(e.$slots,"after")],2)}));Z.render=ae,Z.__scopeId="data-v-7676a78b";var le={props:{name:String,errors:Array,disabled:Boolean,readonly:Boolean,placeholder:String,value:[String,Number],t:{type:Function,default:e=>e}},data:()=>({type:"password"})};const se=b("data-v-150a9f1a");n("data-v-150a9f1a");const ne={class:"input:text__wrapper"};r();const re=se((function(e,t){return o(),d("div",{"data-test":"input",class:["input:text",{"input:password--invalid":e.errors&&e.errors.length}]},[u(e.$slots,"before"),i("div",ne,[i("input",{class:"input-text",type:e.type,name:e.name,id:e.name+"Id",value:e.value,disabled:e.disabled,readonly:e.readonly,placeholder:e.t(e.placeholder)},null,8,["type","name","id","value","disabled","readonly","placeholder"]),i("i",{"data-test":"icon",color:"a",class:"icon-eye"+("text"===e.type?"-closed":""),onClick:t[1]||(t[1]=t=>e.type="text"===e.type?"password":"text")},null,2)]),u(e.$slots,"after")],2)}));le.render=re,le.__scopeId="data-v-150a9f1a";var oe=l({props:["schema","locale"],components:{Field:U,InputText:Z,InputSelect:x,InputPassword:le},setup(e,t){const{t:a}=k(e.locale),{schema:l,data:n,validate:r}=(e=>{const t=g(e),a=s(()=>Object.keys(t).map(e=>({[e]:t[e].value||""})).reduce((e,t)=>({...e,...t}))),l=s(()=>Object.keys(t).map(e=>({[e]:t[e].errors||[]})).reduce((e,t)=>({...e,...t})));return{data:a,schema:t,errors:l,validate:async()=>{for(let e in t){let a=t[e],{value:l,validations:s}=a;a.errors=[];for(let e in s){let{handler:t,message:n}=s[e];await t(l)&&a.errors.push(n)}}return!Object.values(t).some(({errors:e})=>null==e?void 0:e.length)}}})(e.schema),o=s(()=>Object.entries(l));return{t:a,data:n,entries:o,onInputHandler:e=>{const{name:a,value:s}=e.target,n=l[a];n.value=s,n.errors=[],n.events&&n.events.onInput&&(n.events.onInput({ev:e,schema:l}),t.emit("callback","onInput")),t.emit("input",{ev:e,value:s})},onSubmitHandler:async e=>{e.preventDefault(),t.emit("submit",{ev:e,data:n.value});await r()?t.emit("success",{ev:e,data:n.value}):t.emit("error",{ev:e,data:n.value})}}}});const de={class:"form__grid"};oe.render=function(e,t){const a=f("Field");return o(),d("form",{"data-test":"form",onSubmit:t[2]||(t[2]=t=>e.onSubmitHandler(t)),class:"form"},[i("div",de,[(o(!0),d(c,null,p(e.entries,([l,s])=>(o(),d(a,{key:l,input:s,id:l+"Id",t:e.t},{default:h(()=>[(o(),d(y("input-"+s.type),I(s,{onInput:t[1]||(t[1]=t=>e.onInputHandler(t)),name:l,t:e.t}),null,16,["name","t"]))]),_:1},1032,["input","id","t"]))),128))]),u(e.$slots,"default")],32)};export{oe as a,A as b,R as c,J as s,k as u};
